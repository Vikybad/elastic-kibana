
<!doctype html>
<html lang="en"
      dir="ltr">
  <head>
    <title>Google for Developers</title>
    <meta name="robots" content="noindex,indexifembedded">
    <meta charset="utf-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="iframe" content="framebox">
    
      <meta name="enable_widgets" content="true">
    
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Google+Sans:400,500|Roboto:400,400italic,500,500italic,700,700italic|Roboto+Mono:400,500,700&display=swap">
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Material+Icons&display=block">
      <link rel="stylesheet" href="https://www.gstatic.com/devrel-devsite/prod/v85aee14ad439a087d9e958f223735d57cdfda16a7f6497504c9ce4a10dce0396/developers/css/app.css">
      
    
    <script nonce="cmtD7pBnHQ1bjH89oNi4cUFT1uuTQy">
      (function(){
        window.framebox=window.framebox||function(){(window.framebox.q=window.framebox.q||[]).push(arguments)};
        
        var a={},b=function(){(window.framebox.dq=window.framebox.dq||[]).push(arguments)};
        ['getUrl','handleLinkClicksInParent','initAutoSize','navigate','pushState','replaceState',
         'requestQueryAndFragment','sendEvent','updateSize','scrollParentWindow']
          .forEach(function(x){a[x]=function(){b(x,arguments)}});
        window.devsite={framebox:{AutoSizeClient:a}};
      })();
      
      (function(d,e,v,s,i,t,E){d['GoogleDevelopersObject']=i;
        t=e.createElement(v);t.async=1;t.src=s;E=e.getElementsByTagName(v)[0];
        E.parentNode.insertBefore(t,E);})(window, document, 'script',
        'https://www.gstatic.com/devrel-devsite/prod/v85aee14ad439a087d9e958f223735d57cdfda16a7f6497504c9ce4a10dce0396/developers/js/app_loader.js', '[1,"en",null,"/js/devsite_app_module.js","https://www.gstatic.com/devrel-devsite/prod/v85aee14ad439a087d9e958f223735d57cdfda16a7f6497504c9ce4a10dce0396","https://www.gstatic.com/devrel-devsite/prod/v85aee14ad439a087d9e958f223735d57cdfda16a7f6497504c9ce4a10dce0396/developers","https://developers-dot-devsite-v2-prod.appspot.com",null,1,null,1,null,[1,6,8,12,14,17,21,25,50,52,63,70,75,76,80,87,91,92,93,97,98,100,101,102,103,104,105,107,108,109,110,112,113,116,117,118,120,122,124,125,126,127,129,130,131,132,133,134,135,136,138,140,141,147,148,149,151,152,156,157,158,159,161,163,164,168,169,170,179,180,182,183,186,191,193,196],"AIzaSyAP-jjEJBzmIyKR4F-3XITp8yM9T1gEEI8","AIzaSyB6xiKGDR5O3Ak2okS4rLkauxGUG7XP0hg","developers.google.com","AIzaSyAQk0fBONSGUqCNznf6Krs82Ap1-NV6J4o","AIzaSyCCxcqdrZ_7QMeLCRY20bh_SXdAYqy70KY",null,null,null,["MiscFeatureFlags__enable_variable_operator","MiscFeatureFlags__emergency_css","Search__enable_ai_search_summaries_restricted","Cloud__enable_cloud_shell","MiscFeatureFlags__developers_footer_image","Cloud__enable_llm_concierge_chat","CloudShell__cloud_shell_button","Profiles__enable_public_developer_profiles","Profiles__enable_page_saving","Cloud__enable_cloudx_experiment_ids","MiscFeatureFlags__limit_dynamic_context","MiscFeatureFlags__enable_project_variables","Cloud__enable_cloud_facet_chat","MiscFeatureFlags__enable_firebase_utm","BookNav__enable_tenant_cache_key","MiscFeatureFlags__enable_explain_this_code","Significatio__enable_by_tenant","MiscFeatureFlags__developers_footer_dark_image","Cloud__enable_free_trial_server_call","Search__enable_page_map","Search__enable_dynamic_content_confidential_banner","Analytics__enable_all_tenant_analytics","Cloud__enable_cloud_shell_fte_user_flow","Profiles__enable_recognition_badges","Concierge__enable_concierge","Search__enable_ai_eligibility_checks","Profiles__enable_profile_collections","Cloud__enable_cloudx_ping","Search__enable_suggestions_from_borg","Profiles__enable_awarding_url","TpcFeatures__enable_mirror_tenant_redirects","Cloud__enable_cloud_dlp_service","Experiments__reqs_query_experiments","Search__enable_ai_search_summaries","EngEduTelemetry__enable_engedu_telemetry","Concierge__enable_concierge_restricted","Concierge__enable_pushui","Analytics__enable_cookie_bar","CloudShell__cloud_code_overflow_menu","Profiles__require_profile_eligibility_for_signin","Profiles__enable_dashboard_curated_recommendations","Profiles__enable_release_notes_notifications","Profiles__enable_developer_profiles_callout"],null,null,"AIzaSyBLEMok-5suZ67qRPzx0qUtbnLmyT_kCVE","https://developerscontentserving-pa.googleapis.com","AIzaSyCM4QpTRSqP5qI4Dvjt4OAScIN8sOUlO-k","https://developerscontentsearch-pa.googleapis.com",2,4,null,"https://developerprofiles-pa.googleapis.com",[1,"developers","Google for Developers","developers.google.com",null,"developers-dot-devsite-v2-prod.appspot.com",null,null,[1,1,[1],null,null,null,null,null,null,null,null,[1],null,null,null,null,null,null,[1],[1,null,null,[1,20],"/recommendations/information"],null,null,null,[1,1,1],[1,1,null,1,1]],null,[null,null,null,null,null,null,"/images/lockup-new.svg","/images/touchicon-180-new.png",null,null,null,null,1,null,null,null,null,null,null,null,null,1,null,null,null,"/images/lockup-dark-theme-new.svg",[]],[],null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,[6,1,14,15,20,22,23,29,32,36],null,[[null,null,null,[3,7,10,2,39,17,4,32,24,11,12,13,34,15,25],null,null,[1,[["docType","Choose a content type",[["Tutorial",null,null,null,null,null,null,null,null,"Tutorial"],["Guide",null,null,null,null,null,null,null,null,"Guide"],["Sample",null,null,null,null,null,null,null,null,"Sample"]]],["product","Choose a product",[["Android",null,null,null,null,null,null,null,null,"Android"],["ARCore",null,null,null,null,null,null,null,null,"ARCore"],["ChromeOS",null,null,null,null,null,null,null,null,"ChromeOS"],["Firebase",null,null,null,null,null,null,null,null,"Firebase"],["Flutter",null,null,null,null,null,null,null,null,"Flutter"],["Assistant",null,null,null,null,null,null,null,null,"Google Assistant"],["GoogleCloud",null,null,null,null,null,null,null,null,"Google Cloud"],["GoogleMapsPlatform",null,null,null,null,null,null,null,null,"Google Maps Platform"],["GooglePay",null,null,null,null,null,null,null,null,"Google Pay & Google Wallet"],["GooglePlay",null,null,null,null,null,null,null,null,"Google Play"],["Tensorflow",null,null,null,null,null,null,null,null,"TensorFlow"]]],["category","Choose a topic",[["AiAndMachineLearning",null,null,null,null,null,null,null,null,"AI and Machine Learning"],["Data",null,null,null,null,null,null,null,null,"Data"],["Enterprise",null,null,null,null,null,null,null,null,"Enterprise"],["Gaming",null,null,null,null,null,null,null,null,"Gaming"],["Mobile",null,null,null,null,null,null,null,null,"Mobile"],["Web",null,null,null,null,null,null,null,null,"Web"]]]]]],[1,1],null,1],[[["UA-24532603-1"],["UA-22084204-5"],null,null,["UA-24532603-5"],null,null,[["G-272J68FCRF"],null,null,[["G-272J68FCRF",2]]],[["UA-24532603-1",2]],null,[["UA-24532603-5",2]],null,1],[[15,12],[14,11],[3,2],[13,10],[4,3],[12,9],[5,4],[16,13],[1,1],[6,5],[11,8]],[[2,2],[1,1]]],null,4,null,null,null,null,null,null,null,null,null,null,null,null,null,"developers.devsite.google"]]')
      
      </script>
    
  </head>
  
  <body style="height: auto; overflow: hidden; padding: 16px;"
        >
    <meta name="auto_height" content="true" /><meta name="auto_width" content="true" /><meta name="enable_widgets" content="true" />
<meta charset="utf-8">
<style>
  :root {
    --demo-border: 1px solid #dadce0;
    --demo-border-color: #dadce0;
    --demo-background-primary: #ffffff;
    --demo-background-secondary: #f1f3f4;
    --demo-formatted-address-background: #ecf3fe;
    --demo-formatted-address-color: #1967d2;
    --demo-error-bar-background: #f1f3f4;
  }
  [appearance='dark'] {
    --demo-border: 1px solid #5f6368;
    --demo-border-color: #5f6368;
    --demo-background-primary: #2a2b2e;
    --demo-background-secondary: #36373a;
    --demo-formatted-address-background: #174ea6;
    --demo-formatted-address-color: #d2e3fc;
    --demo-error-bar-background: #36373a;
  }
  @media (prefers-color-scheme: dark) {
    [appearance='device'] {
      --demo-border: 1px solid #5f6368;
      --demo-border-color: #5f6368;
      --demo-background-primary: #2a2b2e;
      --demo-background-secondary: #36373a;
      --demo-formatted-address-background: #174ea6;
      --demo-formatted-address-color: #d2e3fc;
      --demo-error-bar-background: #36373a;
    }
  }
  #demo {
  border: var(--demo-border);
  border-radius: 12px;
  min-height: 400px;
  overflow: hidden;
  }
  #demo > * {
      margin: 32px;
  }
  #demo > devsite-selector {
      margin: 0;
      border: 0;
  }
  #demo > devsite-selector > section {
      padding: 0 32px;
  }
  #demo > devsite-selector .devsite-tabs-wrapper {
      padding: 0 9px;
  }
  #error-bar {
    display: none;
    background-color: var(--demo-error-bar-background);
    padding: 16px;
    margin: 32px 0;
    line-height: 20px;
  }
  #error-bar::before {
    content: 'warning';
    color: #f3b300;
    vertical-align: middle;
    padding-right: 16px;
    font-family: 'Material Icons';
    font-size: 20px;
  }
  #error {
    display: inline-block;
  }
  .form-group {display:flex;}
  .form-group .inputfield {flex-grow:17; margin:0 20px;}
  .form-group .inputfield input {width:100%;}
  .form-group .inputfield textarea {width:100%; height: 200px; margin:20px 0;}
  .form-group button {flex-grow:1;}
  .map-container {margin-top:50px; height:500px;}
  #map {height:100%;}
</style>
<script>
  (function(){
    let myMapObj = {
        gMap:{},
        path:[],
        init: function(){
            let mapContainer = document.getElementById("map");
      let mapOptions = {
        center: {lat: -34.397, lng: 150.644},
              zoom: 2
      };
      this.gMap = new google.maps.Map(mapContainer,mapOptions);
            this.mapEvents();
        },
        errMsg: function(content){
          let errElem = document.getElementById("error-bar");
          if(content){
              errElem.style.display = 'block';
              document.getElementById("error").innerHTML = content;
          } else {
              errElem.style.display = 'none';
          }
        },
        mapEvents: function(){
            let decodePolyline = document.getElementById("decodepolyline");
            let displayLinestring = document.getElementById("displaylinestring");

            document.getElementById("decodepolyline").addEventListener("click", () => {
                let polyline = document.getElementById("encodedpolyline").value.trim();
                if(polyline !== ''){
                    myMapObj.errMsg(null);
                    myMapObjpolyline = polyline.replace(/\\\\/g,"\\").replace(/\\"/g,'"');
                    this.displayOnMap("encodedpolyline",myMapObjpolyline);
                }
                else {
                    myMapObj.errMsg("Encoded polyline is required.");
                    return;
                }
                
            });

            document.getElementById("displaylinestring").addEventListener("click", () => {
                let coordinates = document.getElementById("geojsonlinestring").value.trim();
                if(coordinates !== ''){
                    myMapObj.errMsg(null);
                    this.displayOnMap("linestring",coordinates);
                }
                else {
                    myMapObj.errMsg("GeoJSON is required.");
                    return;
                }
            });
        },
        displayOnMap: function(type,value){
            this.clearUI(this.path);
            
            if(type == "encodedpolyline") {
                let decodedPath = google.maps.geometry.encoding.decodePath(value);
                if(decodedPath){
                    myMapObj.errMsg(null);
                    let bounds = this.setBounds(decodedPath);
                    let polyline = new google.maps.Polyline({
                        map: myMapObj.gMap,
                        path: decodedPath,
                        strokeColor: "#4285f4",
                        strokeWeight: 5
                    });
                    myMapObj.gMap.fitBounds(bounds);
                    myMapObj.path.push(polyline);
                } else {
                    myMapObj.errMsg("Decoding failed. There might be something wrong with the format of the encoded polyline.");
                    return;
                }
                
            }

            if(type == "linestring") {
                let path = [];
                value = value.replace(/\r?\n|\r|\t|\s/g,"");
                let points = value.split(/],/);
                for(let i = 0; i < points.length; i++){
                    let point = points[i].split(",");
                    if(point.length > 1){
                        path.push({
                            "lat":parseFloat(point[1].replace(/\[|\]/,"")),
                            "lng":parseFloat(point[0].replace(/\[|\]/,""))
                        });
                    } else {
                        myMapObj.errMsg("There might be something wrong with the format of the input data.");
                        return;
                    }
                }
                let polyline = new google.maps.Polyline({
                    map: myMapObj.gMap,
                    path: path,
                    strokeColor: "#4285f4",
                    strokeWeight: 5
                });
                if(polyline){
                    myMapObj.errMsg(null);
                    let bounds = this.setBounds(path);
                    myMapObj.gMap.fitBounds(bounds);
                    myMapObj.path.push(polyline);
                } else {
                    myMapObj.errMsg("There might be something wrong with the format of the input data.");
                }
                
            }
        },
        setBounds: function(points){
            let mapBounds = new google.maps.LatLngBounds();
            for(let i = 0; i < points.length - 1; i++){
                mapBounds.extend(points[i]);
            }
            return mapBounds;
        },
        clearUI: function(obj){
      if(obj.length > 0){
        obj.forEach(function(item){
                    item.setMap(null);
                });
      }
    }
    };

    function initMap(){
        myMapObj.init();
    }
    window.initMap = initMap;
  }());
</script>
<div id="demo">
    <devsite-selector>
        <section>
            <h3>Encoded polyline</h3>
            <p>Enter a polyline that is encoded using the <a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm" target="_parent">polyline encoding algorithm</a>. You can get the encoded polyline from the <a href="https://developers.google.com/maps/documentation/routes" target="_parent">Routes API</a>. To get the encoded polyline from the Routes API, you need to set the <a href="https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRoutes#polylineencoding" target="_parent">polylineEncoding</a> parameter to <code>ENCODED_POLYLINE</code>.</p>
            <p>The special characters in the encoded polylines returned in JSON responses of the Routes API are escaped. You do not need to escape them or unescape them before using this tool.</p>
            <div class="form-group">
                <div class="inputfield">
                    <input type="text" value="" id="encodedpolyline" placeholder="Encoded polyline" autocomplete="do-not-complete">
                </div>
                <button id="decodepolyline" class="button-primary">Decode</button>
            </div>
        </section>
        <section>
            <h3>GeoJSON Linestring</h3>
            <p>Enter a polyline that uses the <a href="https://datatracker.ietf.org/doc/html/rfc7946#section-3.1.4" target="_parent" class="external">GeoJSON LineString format</a>. You can get the encoded polyline from the <a href="https://developers.google.com/maps/documentation/routes" target="_parent">Routes API</a>. To get the encoded polyline from the Routes API, you need to set the <a href="https://developers.google.com/maps/documentation/routes/reference/rest/v2/TopLevel/computeRoutes#polylineencoding" target="_parent">polylineEncoding</a> parameter to <code>GEO_JSON_LINESTRING</code>.</p>
            <div class="form-group">
                <div class="inputfield">
                    <textarea id="geojsonlinestring" placeholder="[144.964,-37.816],[144.965,-37.815]"></textarea>
                    <button id="displaylinestring" class="button-primary">Display</button>
                </div>
            </div>
        </section>
    </devsite-selector>
    <div id="error-bar">
        <span id="error"></span>
    </div>
    <section class="map-container">
      <div id="map"></div>
    </section>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAAUHO6lMMnE2VZMRYmAfVbCYCgsEEqNyM&libraries=geometry&callback=initMap"></script>
</div>

  </body>
</html>